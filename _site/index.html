<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" type="image/png" href="http://danielykim.me/images/myicon.png" />
  <title>Blog: Daniel Kim</title>
  <meta name="description" content="Data Artientist">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <link rel="stylesheet" type="text/css" href="/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="http://localhost:4000/">

  <link rel="alternate" type="application/rss+xml" title="Blog: Daniel Kim" href="http://localhost:4000/feed.xml" />

  <script type="text/javascript" src="/js/pace.min.js"></script>

  <link rel="stylesheet" type="text/css" href="/css/pace-flash.css">

</head>

  <body class="full-width">
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
    <h1>Data Artience</h1>
	
		
  	
		
  	
		
		    
		      <a class="active" href="/" class="active">blog</a>
		    
	    
  	
		
		    
		      <a href="/about/">About</a>
		    
	    
  	
		
  	
		
  	
		
  	
		
  	
	</nav>
</header>

    <article>
        <h1 class="content-listing-header sans">Articles</h1>
  <ul class="content-listing ">
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04"><h3 class="contrast">6.4. 시계열 분석 입문</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
  <label for="mn-h01" class="margin-toggle">⊕ </label>
  <input type="checkbox" id="mn-h01" class="margin-toggle">
  <span class="marginnote">
  시계열 기법은 데이터에 있을 수도 있는 내부 구조를 살핀다
  </span>
산업 공정을 모니터링하거나 기업의 사업 지표를 추적할 때 종종 시계열 데이터를 접한다. 데이터를 시계열을 다루는 방법으로 모델링하는 것과 공정을 모니터링하는 방법(이 장의 앞 부분에서 다룬)에는 다음과 같은 중요한 차이가 있다.
  </p>
  <blockquote>
    <p>
      시계열 분석은 시간에 따라 수집한 데이터를 설명한다. 이러한 데이터에는 꼭 고려해야 할 자기상관(autocorrelation), 추세(trend), 계절적인 변화(seasonal variation)<label for="sn-seasonal" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-seasonal" class="margin-toggle"/><span class="sidenote">문자적으로만 계절이 아니다.</span> 같은 내부 구조가 있을 수 있다.
    </p>
  </blockquote>
  <p>
이 절(section)에서는 급성장하는 시계열 분석과 모델링 분야에서 많은 이들이 사용하는 기법을 간략하게 설명하겠다.  
  </p>
</section>
<section>
    <p>
  <label for="mn-h01" class="margin-toggle">⊕ </label>
  <input type="checkbox" id="mn-h01" class="margin-toggle">
  <span class="marginnote">
  이 절에서 다루는 내용
  </span>
  다루는 내용의 범위
  </p>
  <ol>
    <li>1. 정의, 응용, 기법</li>
    <li>2. 이동 평균과 평활법이란?
      <ol>
        <li>1. 단일 이동 평균</li>
        <li>2. 중앙 이동 평균</li>
      </ol>
    </li>
    <li>3. 지수 평활법이란?
      <ol>
        <li>1. 단일 지수 평활법</li>
        <li>2. 단일 지수 평활법을 통한 예측</li>
        <li>3. 이중 지수 평활법</li>
        <li>4. 이중 지수 평활법을 통한 예측</li>
        <li>5. 삼중 지수 평활법</li>
        <li>6. 삼중 지수 평활법 예제</li>
        <li>7. 지수 평활법 요약</li>
      </ol>
    </li>
    <li>4. 단변량 시계열 모델
      <ol>
        <li> 1. 표본 데이터</li>
        <li> 2. 정상성<label for="sn-stationarity" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-stationarity" class="margin-toggle"/><span class="sidenote">Stationarity</span></li>
        <li> 3. 계절성<label for="sn-stationarity" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-stationarity" class="margin-toggle"/><span class="sidenote">Seasonality</span></li>
        <li> 4. 일반적인 접근법</li>
        <li> 5. 박스-젠킨스<label for="sn-Box-Jenkins" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-Box-Jenkins" class="margin-toggle"/><span class="sidenote">Box-Jenkins</span> 접근법</li>
        <li> 6. 박스-젠킨스 모델 판별</li>
        <li> 7. 박스-젠킨스 모델 측정</li>
        <li> 8. 박스-젠킨스 모델 검증</li>
        <li> 9. 단변량 박스-젠킨스 분석 예제</li>
        <li>10. 계절성 데이터에 대한 박스-젠킨스 모델 분석</li>
      </ol>
    </li>
    <li>5. 다변량 시계열 모델
      <ol><li>1. 다변량 시계열 분석의 예</li></ol>
    </li>
  </ol>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="#">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-01">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc4.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03"><h3 class="contrast">6.4.3. 지수 평활법이란?</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
지수 평활법은 과거 관측값을 지수적으로 감소하는 가중치로 다룬다
    </span>
이 방법은 평활한 시계열을 구할 때 사람들이 정말 많이 사용하는 방법이다. 단일 이동 평균은 과거 관측값을 동일한 가중치로 다루지만, 지수 평활법은 관측값이 오래된 것일 수록 지수적으로 감소하는 가중치로 다룬다.
  </p>
  <p>
다시 말해, 예측할 때 최근 관측값에 오래된 관측값보다 상대적으로 더 높은 가중치가 붙는다는 것이다.
  </p>
  <p>
이동 평균은 관측값을 정확하게 같은 가중치 \( 1/N \)로 다룬다. 하지만, 지수 평활법에서는 정하거나 계산해서 넣어줘야 할 1개 이상의 평활 매개변수가 있다. 이러한 매개변수에 따라 가중치 값이 변한다.
  </p>
  <p>
  이번 절에서는 <a href="/articles/2016/11/19/ESH-06-04-03-01">단일</a>, <a href="/articles/2016/11/19/ESH-06-04-03-03">이중</a>, <a href="/articles/2016/11/19/ESH-06-04-03-05">삼중</a> 지수 평활법을 살펴보자.
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-02-02">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03-01">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc43.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-06"><h3 class="contrast">6.4.3.6. 삼중 지수 평활법 예제</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
단일, 이중, 삼중 지수 평활법을 비교하는 예
    </span>
이 예제에 있는 데이터를 통해 단일, 이중, 삼중 지수 평활법을 비교해보자.
  </p>
  <p>
다음 데이터에는 24개 관측값이 있다. 6년에 걸친 분기별 데이터이다(1년에는 4개의 분기가 있다).
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>연도</b></th><th style="text-align: center"><b>분기</b></th><th style="text-align: center"><b>시점</b></th><th style="text-align: center"><b>판매량</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">90 </td><td style="text-align: center">1 </td><td style="text-align: center"> 1 </td><td style="text-align: center">362 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center"> 2 </td><td style="text-align: center">385 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center"> 3 </td><td style="text-align: center">432 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center"> 4 </td><td style="text-align: center">341 </td></tr>
<tr><td style="text-align: center">91 </td><td style="text-align: center">1 </td><td style="text-align: center"> 5 </td><td style="text-align: center">382 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center"> 6 </td><td style="text-align: center">409 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center"> 7 </td><td style="text-align: center">498 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center"> 8 </td><td style="text-align: center">387 </td></tr>
<tr><td style="text-align: center">92 </td><td style="text-align: center">1 </td><td style="text-align: center"> 9 </td><td style="text-align: center">473 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center">10 </td><td style="text-align: center">513 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center">11 </td><td style="text-align: center">582 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center">12 </td><td style="text-align: center">474 </td></tr>
<tr><td style="text-align: center">93 </td><td style="text-align: center">1 </td><td style="text-align: center">13 </td><td style="text-align: center">544 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center">14 </td><td style="text-align: center">582 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center">15 </td><td style="text-align: center">681 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center">16 </td><td style="text-align: center">557 </td></tr>
<tr><td style="text-align: center">94 </td><td style="text-align: center">1 </td><td style="text-align: center">17 </td><td style="text-align: center">628 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center">18 </td><td style="text-align: center">707 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center">19 </td><td style="text-align: center">773 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center">20 </td><td style="text-align: center">592 </td></tr>
<tr><td style="text-align: center">95 </td><td style="text-align: center">1 </td><td style="text-align: center">21 </td><td style="text-align: center">627 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">2 </td><td style="text-align: center">22 </td><td style="text-align: center">725 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">3 </td><td style="text-align: center">23 </td><td style="text-align: center">854 </td></tr>
<tr><td style="text-align: center"></td><td style="text-align: center">4 </td><td style="text-align: center">24 </td><td style="text-align: center">661 </td></tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
단일, 이중, 삼중 지수 평활법으로 원본 데이터를 예측한 결과 그래프
    </span>
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries6.gif">
    <label for="sn-fig01" class="margin-toggle sidenote-number">⊕ </label>
    <input type="checkbox" id="sn-fig01" class="margin-toggle" />
    <span class="sidenote">가로축은 시점, 세로축은 판매량</span>
  </figure>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
삼중 지수 평활법으로 원본 데이터를 예측한 결과 그래프
    </span>
    실제 시계열과 예측치
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries7.gif">
    <label for="sn-fig02" class="margin-toggle sidenote-number">⊕ </label>
    <input type="checkbox" id="sn-fig02" class="margin-toggle" />
    <span class="sidenote">가로축은 시점, 세로축은 판매량</span>
  </figure>
</section>
<section>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
      MSE 비교
    </span>
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>MSE</b></th><th style="text-align: center"><b>\(\alpha\)<br/>수요</b></th><th style="text-align: center"><b>\( \gamma \)<br/>추세</b></th><th style="text-align: center"><b>\( \beta \)<br/>계절성</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">6906</td><td style="text-align: center">0.4694</td><td style="text-align: center">      </td><td style="text-align: center">      </td></tr>
<tr><td style="text-align: center">5054</td><td style="text-align: center">0.1086</td><td style="text-align: center">1.0000</td><td style="text-align: center">      </td></tr>
<tr><td style="text-align: center"> 936</td><td style="text-align: center">1.0000</td><td style="text-align: center">      </td><td style="text-align: center">1.0000</td></tr>
<tr><td style="text-align: center"> 520</td><td style="text-align: center">0.7556</td><td style="text-align: center">0.0000</td><td style="text-align: center">0.9837</td></tr>
      </tbody>
    </table>
  </div>
  <p>
위에서 계수 \( \alpha, \beta, \gamma \)는 각 기법마다 MSE를 최소화하는 프로그램으로 구한 것이다.
  </p>
</section>
<section>
  <h3>초기 추세 계산 예제</h3>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
초기 추세 계산
    </span>
데이터는 분기별 판매량 값으로 구성되어있다. 1년에 4개의 분기가 있기 때문에\( (L = 4) \) 계절은 1년이다. 위에서 구한 식을 사용하면,

</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-05"><h3 class="contrast">6.4.3.5. 삼중 지수 평활법</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
만약에 데이터에 추세와 계절성 둘 다 있다면 어떻게 해야할까?  
  </p>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
계절성을 다루기 위해 3번째 매개변수를 추가해야 한다
    </span>
이런 경우에는 이중 평활법이 적합하지 않다. 계절성(때때로 주기성이라고도 부르는)을 다루기 위해 3번째 식을 도입하자. 이를 제안한 사람의 이름을 따라 "홀트-윈터스"(Holt-Winters, 약자로 HW)로 부른다.
  </p>
  <p>
이 경우에 기본 등식은 다음과 같다.
$$
\begin{align*}
  S_{t} &= \alpha \frac{ y_{t} }{ I_{t-L} } + (1-\alpha)(S_{t-1} + b_{t-1}) & 전체적인 \ 평활 \\
  b_{t} &= \gamma (S_{t} - S_{t-1}) + (1 - \gamma)b_{t-1} & 추세 \ 평활 \\
  I_{t} &= \beta \frac{ y_{t} }{ S_{t} } + (1 - \beta) I_{t-L} & 계절성 \ 평활
\end{align*}
$$
  </p>
  <p>
$$ F_{t+m} = (S_{t} + m b_{t}) I_{t - L + m} \qquad 예측 $$
  </p>
  <p>
  여기에서
    <ul>
      <li>\(y\)는 관측값</li>
      <li>\(S\)는 평활화한 관측값</li>
      <li>\(b\)는 추세 인자</li>
      <li>\(I\)는 계절성 지표</li>
      <li>\(F\)는 m 시점 앞 예측</li>
      <li>\(t\)는 어떤 시간 주기를 나타내는 지표</li>
    </ul>
  </p>
  <p>
그리고 \( \alpha, \beta, \gamma\)는 오차의 MSE를 최소화하여 구할 수 있는 상수이다. 이 작업은 좋은 소프트웨어 패키지의 몫이다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
완벽한 계절 정보가 필요하다
    </span>
    HW 방법을 초기화하려면 <u>적어도</u> 하나의 완벽한 계절 데이터가 필요하다. 계절성 지표 초기값 \( I_{t-L} \)을 추정하기 위해서이다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
한 계절에 \( L \) 주기
    </span>
어떤 하나의 계절 데이터는 \( L \) 주기로 구성된다. 그리고 한 주기에서 다음 주기까지의 추세 인자를 추정해야 한다. 그러기 위해서는 두 계절이 있는 데이터(즉, \( 2L \) 주기가 있는) 사용하기를 권한다.
  </p>
</section>
<section>
  <h3>초기값 추세 인자</h3>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
추세와 계절성 매개변수를 어떻게 초기화 할 것인가
    </span>
초기 추세를 계산하는 일반적인 식은 다음과 같다.
$$ b = \frac{1}{L} \left( \frac{y_{L+1} - y_{1}}{L} + \frac{y_{L+2}-y_{2}}{L} + \cdots + \frac{y_{L+L} - y_{L}}{L} \right) $$
  </p>
  <h3>계절성 지수의 초기값</h3>
  <p>
    1년에 4 주기가 있는 6년치 데이터를 살펴보자.
  </p>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
1단계: 연도 평균
    </span>
    <b>1단계:</b> 각 연도마다 주기의 평균을 구한다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h06" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h06" class="margin-toggle">
    <span class="marginnote">
2단계: 연도 평균으로 나눈다
    </span>
    <b>2단계:</b> 관측값을 적절한 연도 평균으로 나눈다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>1번째 연도</b></th><th style="text-align: center"><b>2번째 연도</b></th><th style="text-align: center"><b>3번째 연도</b></th><th style="text-align: center"><b>4번째 연도</b></th><th style="text-align: center"><b>5번째 연도</b></th><th style="text-align: center"><b>6번째 연도</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">\( y_{1}/A_{1} \)</td><td style="text-align: center">\( y_{5}/A_{2} \)</td><td style="text-align: center">\( y_{9}/A_{3}   \)</td><td style="text-align: center">\( y_{13}/A_{4} \)</td><td style="text-align: center">\( y_{17}/A_{5} \)</td><td style="text-align: center">\( y_{21}/A_{6} \)</td></tr>
<tr><td style="text-align: center">\( y_{2}/A_{1} \)</td><td style="text-align: center">\( y_{6}/A_{2} \)</td><td style="text-align: center">\( y_{10}/A_{3}  \)</td><td style="text-align: center">\( y_{14}/A_{4} \)</td><td style="text-align: center">\( y_{18}/A_{5} \)</td><td style="text-align: center">\( y_{22}/A_{6} \)</td></tr>
<tr><td style="text-align: center">\( y_{3}/A_{1} \)</td><td style="text-align: center">\( y_{7}/A_{2} \)</td><td style="text-align: center">\( y_{11}/A_{3}  \)</td><td style="text-align: center">\( y_{15}/A_{4} \)</td><td style="text-align: center">\( y_{19}/A_{5} \)</td><td style="text-align: center">\( y_{23}/A_{6} \)</td></tr>
<tr><td style="text-align: center">\( y_{4}/A_{1} \)</td><td style="text-align: center">\( y_{8}/A_{2} \)</td><td style="text-align: center">\( y_{12}/A_{3}  \)</td><td style="text-align: center">\( y_{16}/A_{4} \)</td><td style="text-align: center">\( y_{20}/A_{5} \)</td><td style="text-align: center">\( y_{24}/A_{7} \)</td></tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <p>
    <label for="mn-h07" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h07" class="margin-toggle">
    <span class="marginnote">
3단계: 계절성 지표를 구성한다
    </span>
    <b>3단계:</b> 각 행의 평균을 계산해서 계절성 지표를 구성한다. 그러면 초기 계절성 지수는 (상징적인 의미에서) 다음과 같다.
$$
\begin{align*}
  I_{1} &= \left( y_{1}/A_{1} + y_{5}/A_{2} + y_{9}/A_{3}  + y_{13}/A_{4} + y_{17}/A_{5} + y_{21}/A_{6} \right) / 6 \\
  I_{2} &= \left( y_{2}/A_{1} + y_{6}/A_{2} + y_{10}/A_{3} + y_{14}/A_{4} + y_{18}/A_{5} + y_{22}/A_{6} \right) / 6 \\
  I_{3} &= \left( y_{3}/A_{1} + y_{7}/A_{2} + y_{11}/A_{3} + y_{15}/A_{4} + y_{19}/A_{5} + y_{23}/A_{6} \right) / 6 \\
  I_{4} &= \left( y_{4}/A_{1} + y_{8}/A_{2} + y_{12}/A_{3} + y_{16}/A_{4} + y_{20}/A_{5} + y_{24}/A_{6} \right) / 6
\end{align*}
$$
  </p>
  <p>
지금까지 계절성 지수를 어떻게 초기화하는지 살펴보았다.    
  </p>
  <p>
다음 내용에서는 삼중 지수 평활법을 적용하는 예제를 다룰 것이다.  
  </p>
</section>
<section>
  <h3>계수가 0인 경우</h3>
  <p>
    <label for="mn-h08" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h08" class="margin-toggle">
    <span class="marginnote">
추세와 계절성 매개변수 계수가 0인 경우
    </span>
삼중 지수 평활법을 컴퓨터로 계산하면 가끔 \( \gamma \)나 \( \beta \)가 0인 경우나 둘 다 0인 경우가 있다.
  </p>
  <p>
이러한 경우에 추세나 계절성이 없다고 봐야할까?
  </p>
  <p>
당연히 아니다! 추세나 계절성 관련 초기값이 MSE가 최소일 수 있는 경우라 갱신할 필요 없어서 그렇다. 정말로 그런지 검증하기 위해 갱신하는 식을 반드시 점검해야 한다.
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-03-04">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03-06">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc435.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-04"><h3 class="contrast">6.4.3.4. 이중 지수 평활법을 이용한 예측(LASP)</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
예측 식
    </span>
한 시점 앞을 예측하는 식은 다음과 같이 쓸 수 있다.
  $$ F_{t+1} = S_{t} + b_{t} $$
m 시점 앞을 예측하는 식은 다음과 같이 쓸 수 있다.
  $$ F_{t+m} = S_{t} + m b_{t} $$
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
예제
    </span>
다음의 데이터를 다시 한 번 살펴보자.
    <blockquote>
      <p>6.4, 5.6, 7.8, 8.8, 11, 11.6, 16.7, 15.3, 21.6, 22.4.</p>
    </blockquote>
  </p>
  <p>
\( \alpha=0.3623 \)과 \( \gamma=1.0 \)인 이중 평활법 모델로 맞춰보자. 이 두 매개변수는 원본 시게열을 한 시점 앞 예측과 비교하여 최소 MSE값과 가까운 것이다(지금 다루는 이중 지수 평활법은 평활값을 계산하기 위해 현재 시계열 값을 사용한다). 초기값은 다음과 같다.
$$
\begin{align*}
  S_{1} &= y_{1} = 6.4 \\
  b_{1} &= \frac{1}{3} \left[ (y_{2} - y_{1}) + (y_{3} - y_{2}) + (y_{4} - y_{3}) \right]
\end{align*}
$$
대조군으로 \( \alpha=0.977\)일 때의 단일 평활 모델도 해보자. 이 \( \alpha \) 값은 단일 지수 평활법에서 최소 MSE와 가까운 값이다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
예제 결과 예측
    </span>
예제에서 평활 결과는 다음과 같다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>데이터</b></th><th style="text-align: center"><b>이중</b></th><th style="text-align: center"><b>단일</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">6.4</td><td style="text-align: center">6.4</td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">5.6</td><td style="text-align: center">6.6 (예측 = 7.2)</td><td style="text-align: center">6.4</td></tr>
<tr><td style="text-align: center">7.8</td><td style="text-align: center">7.2 (예측 = 6.8)</td><td style="text-align: center">5.6</td></tr>
<tr><td style="text-align: center">8.8</td><td style="text-align: center">8.1 (예측 = 7.8)</td><td style="text-align: center">7.8</td></tr>
<tr><td style="text-align: center">11.0</td><td style="text-align: center">9.8 (예측 = 9.1)</td><td style="text-align: center">8.8</td></tr>
<tr><td style="text-align: center">11.6</td><td style="text-align: center">11.5 (예측 = 11.4)</td><td style="text-align: center">10.9</td></tr>
<tr><td style="text-align: center">16.7</td><td style="text-align: center">14.5 (예측 = 13.2)</td><td style="text-align: center">11.6</td></tr>
<tr><td style="text-align: center">15.3</td><td style="text-align: center">16.7 (예측 = 17.4)</td><td style="text-align: center">16.6</td></tr>
<tr><td style="text-align: center">21.6</td><td style="text-align: center">19.9 (예측 = 18.9)</td><td style="text-align: center">15.3</td></tr>
<tr><td style="text-align: center">22.4</td><td style="text-align: center">22.8 (예측 = 23.1)</td><td style="text-align: center">21.5</td></tr>
      </tbody>
    </table>
  </div> 
</section>
<section>
  <h3>예측값 비교</h3>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
표는 단일 및 이중 지수 평활법으로 예측한 결과를 나타낸다
    </span>
각 방법이 미래를 어떻게 예측했는지 살펴보기 위해, 가장 마지막 관측값 이후 5개 시점을 계산하면,
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>시점</b></th><th style="text-align: center"><b>단일</b></th><th style="text-align: center"><b>이중</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">11</td><td style="text-align: center">22.4</td><td style="text-align: center">25.8</td></tr>
<tr><td style="text-align: center">12</td><td style="text-align: center">22.4</td><td style="text-align: center">28.7</td></tr>
<tr><td style="text-align: center">13</td><td style="text-align: center">22.4</td><td style="text-align: center">31.7</td></tr>
<tr><td style="text-align: center">14</td><td style="text-align: center">22.4</td><td style="text-align: center">34.6</td></tr>
<tr><td style="text-align: center">15</td><td style="text-align: center">22.4</td><td style="text-align: center">37.6</td></tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
단일 및 이중 지수 평활법으로 예측한 결과를 비교하는 그래프
    </span>
결과를 나타내는 그래프로 보면 아주 명확하게 차이를 볼 수 있다.    
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries4.gif">
  </figure>
  <p>
이 그래프에서 보니 이중 평활법 경우가 단일 평활법보다 데이터에 훨씬 더 가깝다. 단일 평활법은 예측할 때 단순하게 수평선과 다를바가 없다는 것도 알 수 있다. 실제 상황에서 이런 수평선과 같은 상황이 일어날 가능성은 낮다. 따라서 이 경우에는 이중 평활법이 낫다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h06" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h06" class="margin-toggle">
    <span class="marginnote">
이중 지수 평활법과 회귀법으로 예측한 결과를 비교하는 그래프
    </span>
선형 회귀법과 이중 지수 평활법을 비교해보자.
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries5.gif">
  </figure>
  <p>
꽤 재미있는 그림이다. 두 기법 모두 비슷한 경향을 따르지만, 회귀선은 이중 평활법에 비해 예측값이 느리게 증가한다.    
  </p>
</section>
<section>
  <p>
    <label for="mn-h07" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h07" class="margin-toggle">
    <span class="marginnote">
예측하는 사람마다 다른 기법을 선택한다
    </span>
예측하는 사람에 따라 선택하는 기법이 다르다. 성장과정을 공격적으로 나타내고 싶으면, 이중 평활법을 선택한다. 아니면, 회귀법을 사용할 것이다. 선형 회귀법에서 "시간"은 독립 변수 역할을 한다. 4장에서 선형 회귀의 기본적인 내용과 회귀 추정의 세부 사항을 이야기했다.
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-03-03">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03-05">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc434.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-03"><h3 class="contrast">6.4.3.3. 이중 지수 평활법</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
이중 지수 평활법에는 두 개의 상수 매개변수가 있고, 이 방법은 추세를 다루기에 좀 더 적합하다
    </span>
바로 이전에 본 것처럼, 단일 평활법은 추세가 있는 경우를 다루기에 좋지 않다. 기본 등식과 함께 \( \gamma \)라는 상수를 포함하는 한 가지 식을 더 고려하면 단일 평활법을 개선할 수 있다. \( \gamma \)는 반드시 \( \alpha \)와 함께 사용해야 한다.
  </p>
  <p>
아래는 이중 지수 평활법을 나타내는 두 식이다.
  $$ 
  \begin{align*}  
    S_{t} &= \alpha y_{t} + (1-\alpha)( S_{t-1} + b_{t-1} ) \ , \qquad 0 \le \alpha \le 1 \\ 
    b_{t} &= \gamma ( S_{t} - S_{t-1} ) + (1-\gamma)b_{t-1} \ , \qquad 0 \le \gamma \le 1
  \end{align*}
  $$
이중 지수 평활법에서 시계열의 현재 값은 평활화한 현재 값을 계산하는데 사용된다.  
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
새로운 예측은 이전 예측에 오차 수정치를 더한 것이다
    </span>
위의 식을 다음과 같이 다시 쓸 수 있다.
$$ S_{t+1} = S_{t} + \alpha \epsilon_{t} $$
여기에서 \( \epsilon_{t} \)는 시기 \( t \)의 예측 오차(실제 - 예측)이다.
  </p>
  <p>
다시 말해, 새로운 예측은 이전 예측에 가장 마지막 예측의 오차 수정치를 더한 것이다.  
  </p>
</section>
<section>
  <h3>초기값</h3>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
초기값을 선택하는 몇 가지 방법
    </span>
단일 평활법 경우처럼 이중 평활법에서도 \( S_{t} \)와 \( b_{t} \) 식의 초기값을 여러 가지 방법으로 정할 수 있다.
  </p>
  <p>
일반적으로 \( S_{1} \)은 \( y_{1} \)로 정한다. 아래 3가지 방법 중에서 \( b_{1} \) 을 정하면 좋다.
$$
\begin{align*}
  b_{1} &= y_{2} - y_{1} \\
  b_{1} &= \frac{1}{3} \left[ (y_{2} - y_{1} ) + ( y_{3} - y_{2} ) + (y_{4} - y_{3}) \right] \\
  b_{1} &= \frac{ y_{n} - y_{1} }{ n - 1 }
\end{align*}
$$
  </p>
</section>
<section>
  <h3>첨언</h3>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
평활식의 의미
    </span>
첫 번째 평활식은 이전 시점의 추세 \( b_{t-1} \)를 이전 평활값에 더하여 이전 시점의 추세에 대해 \( S_{t} \) 를 맞춘다. 이 과정을 통해 뒤처짐을 제거하고 \( S_{t} \)을 현재값에 적절하게 맞춘다.
  </p>
  <p>
두 번째 평활식은 마지막 두 값의 차이를 나타내는 추세를 갱신한다. 이 식은 단일 평활의 기본 등식과 비슷하지만, 추세를 갱신하는 부분이 다르다.    
  </p>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
비선형 최적화 기법을 사용할 수 있다
    </span>
\( \alpha \)와 \( \gamma \)값은 마르쿼트(Marquardt) 알고리즘 같은 비선형 최적화 기법을 사용해서 구할 수 있다.
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-03-02">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03-04">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc433.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-02"><h3 class="contrast">6.4.3.2. 단일 지수 평활법을 이용한 예측</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <h3>예측 식</h3>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
다음 값을 예측하기
    </span>
기본 등식을 예측 식으로 사용한다.
$$ S_{t+1} = \alpha y_{t} + (1 - \alpha)S_{t} \ , \quad 0 < \alpha \le 1, \quad t > 0. $$
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
새로운 예측은 이전 예측에 오차 수정치를 더한 것이다
    </span>
위의 식을 다음과 같이 다시 쓸 수 있다.
$$ S_{t+1} = S_{t} + \alpha \epsilon_{t} $$
여기에서 \( \epsilon_{t} \)는 시기 \( t \)의 예측 오차(실제 - 예측)이다.
  </p>
  <p>
다시 말해, 새로운 예측은 이전 예측에 가장 마지막 예측의 오차 수정치를 더한 것이다.  
  </p>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
새로운 예측은 이전 예측에 오차 수정치를 더한 것이다
    </span>
위의 식을 다음과 같이 다시 쓸 수 있다.
$$ S_{t+1} = S_{t} + \alpha \epsilon_{t} $$
여기에서 \( \epsilon_{t} \)는 시기 \( t \)의 예측 오차(실제 - 예측)이다.
  </p>
  <p>
다시 말해, 새로운 예측은 이전 예측에 가장 마지막 예측의 오차 수정치를 더한 것이다.  
  </p>
</section>
<section>
  <h3>예측의 재복합</h3>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
재복합 예측(Bootstrapping forecasts)
    </span>
실제 관측값이 없는데 어떤 시점(보통 가장 마지막 시점)에서 예측하고 싶다면 어떻게 될까? 이러한 상황에서는 위의 예측 식을 다음과 같이 바꿔야한다.
$$ S_{t+1} = \alpha y_{origin} + (1-\alpha)S_{t} $$
여기에서 y_{origin}은 상수이다. 이 기법을 재복합<label for="sn-bootstrapping" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-bootstrapping" class="margin-toggle"/><span class="sidenote">Bootstrapping</span>이라고 부른다.
  </p>
</section>
<section>
  <h3>재복합 예제</h3>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
      예제
    </span>
이전 예제에서 마지막 시점은 70이었고, 예측값(평활화된 값 \( S \))은 71.7이었다. 데이터 값과 예측치를 가지고 있기 때문에, 이전에 사용했던 보통의 등식(재복합 아닌)을 가지고 \(\alpha=0.1\)인 경우에 그 다음 시점을 예측할 수 있다.

</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-03-01"><h3 class="contrast">6.4.3.1. 단일 지수 평활법</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
지수 평활법은 미래 값을 예측하기 위해 과거 관측값을 지수적으로 감소하는 가중치로 다룬다
    </span>
    이 평활법은 \( S_{2} \) 를 \( y_{1} \)로 두는 것부터 시작한다. \( S_{i} \)는 평활화한 관측이나 EWMA (Exponentially Weighted Moving Average)를, \( y \)는 원래의 관측값을 나타낸다. 아래 첨자는 시기를 의미한다\( (1, 2, ..., n) \). 3번째 시기에 대해 다음과 같이 쓸 수 있다. \( S_{3} = \alpha y_{2} + (1-\alpha)S_{2} \). 다른 시기에 대해서도 마찬가지로 쓸 수 있지만, \( S_{1} \) 값은 없다.
  </p>
  <p>
어떤 시기 \( t \)에 대해, 평활화한 값 \( S_{i} \) 는 다음과 같이 계산할 수 있다.
  $$ S_t = \alpha y_{t-1} + (1-\alpha)S_{t-1} \qquad 0 < \alpha \le 1 \qquad t \ge 3 $$
  </p>
  <p>
이것이 지수 평활법의 기본 등식이고, 상수 또는 매개변수 \( \alpha \) 를 평활 상수라고 한다.
  </p>
  <p>
    <b>메모:</b> 기본 등식에서 \( y_{t-1} \)을 \( y_{t} \)로 바꾼 방법도 있다. EWMA 제어 차트 절에 Robert가 1959년에 제안한 이 방법을 서술하였다. 여기에서 사용하는 등식은 1986년에 Hunter가 제안한 것을 따른다.
  </p>
</section>
<section>
  <h3>첫 번째 EWMA 설정하기</h3>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
첫 번째 예측이 아주 중요하다
    </span>
    첫 번째 EWMA는 다음에 나오는 모든 EWMA 값을 계산하는데 중요한 역할을 한다. \( S_{2} \)를 \( y_{1} \)로 정하는 것은 일종의 초기화이다. 다른 방법으로 정할 수도 있다.
  </p>
  <p>
처음 4개나 5개의 관측값을 평균할 것인지도 정할 수 있다.
  </p>
  <p>
\( \alpha \) 값이 작을 수록 첫 번째 EWMA를 정하는 것이 중요하게 된다. 초기 설정을 확정하기 전에 몇 가지 방법들을 시도해보길 바란다(여기에서는 사용하는 소프트웨어가 이러한 기능을 지원하고 있다는 것을 가정하고 있다).    
  </p>
</section>
<section>
  <h3>왜 "지수"라는 말이 들어가는가?</h3>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
기본 등식을 전개하기
    </span>
먼저 S_{t-1}를 기본 등식에 대입해서 전개하면 다음과 같은 식을 얻을 수 있다.
  $$ 
  \begin{align*}  
  S_{t} & = \alpha y_{t-1} + (1-\alpha)\left[ \alpha y_{t-2} + (1-\alpha)S_{t-2} \right] \\ 
  & = \alpha y_{t-1} + \alpha(1-\alpha) y_{t-2} + (1-\alpha)^{2}S_{t-2} 
  \end{align*}
  $$
  </p>
</section>
<section>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
기본 등식에 관한 합 공식
    </span>
\( S_{2} \)가 나올 때까지 \( S_{t-2}, S_{t-3}, \cdots \) 이런 식으로 대입하면 다음과 같은 전개식을 쓸 수 있다.
  $$ 
S_{t} = \alpha \sum_{i=1}^{t-2} (1-\alpha)^{i-1} y_{t-i} + (1-\alpha)^{t-2} S_{2} \ , \qquad t \ge 2
  $$
  </p>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
\( S_5 \)에 대하여 전개한 등식
    </span>
예를 들면, \( S_5 \)에 대해 전개한 식은 다음과 같다.
  $$ 
S_{5} = \alpha \left[ (1-\alpha)^{0} y_{5-1} + (1-\alpha)^{1} y_{5-2} + (1-\alpha)^{2} y_{5-3} \right] + (1-\alpha)^{3} S_{2}
  $$
  </p>
</section>
<section>
  <p>
    <label for="mn-h06" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h06" class="margin-toggle">
    <span class="marginnote">
지수적인 성질을 보인다
    </span>
이 식은 지수적인 성질을 보인다. 가중치 \( \alpha(1-\alpha)^{t} \) 는 기하적으로 감수하며, 기하 급수의 성질을 이용하면 다음과 같이 합은 1이다.
  $$ 
\alpha \sum_{i=0}^{t-1} (1-\alpha)^{i} = \alpha \left[ \frac{ 1 - (1-\alpha)^{t} }{ 1 - (1-\alpha) } \right] = 1 - (1-\alpha)^{t}
  $$
위의 식에서 보면, \( t \)가 증가할 수록 평활화한 \( S_t \)의 영향이 점점 작아지는 것을 알 수 있다.  
  </p>
</section>
<section>
  <p>
    <label for="mn-h07" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h07" class="margin-toggle">
    <span class="marginnote">
\( \alpha=0.3 \) 일 때 예제
    </span>
\( \alpha=0.3 \)인 경우, 가중치 \( \alpha(1-\alpha)^{t} \)는 시간에 따라 지수적으로(기하적으로) 감소한다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>값</b></th><th style="text-align: center"><b>가중치</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center">\( y_{1} \)</td><td style="text-align: center">0.2100</td></tr>
        <tr><td style="text-align: center">\( y_{2} \)</td><td style="text-align: center">0.1470</td></tr>
        <tr><td style="text-align: center">\( y_{3} \)</td><td style="text-align: center">0.1029</td></tr>
        <tr><td style="text-align: center">\( y_{4} \)</td><td style="text-align: center">0.0720</td></tr>
      </tbody>
    </table>
  </div>  
</section>
<section>
  <h3>어떤 \( \alpha \)가 "가장" 좋은 값인가?</h3>
  <p>
    <label for="mn-h08" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h08" class="margin-toggle">
    <span class="marginnote">
가중치 매개변수를 어떻게 선택할 것인가?
    </span>
오래된 값을 평활화하는 빠르기는 \( \alpha \)값의 함수이다. \( \alpha \)가 1에 가까우면 빠르게 평활화가 일어나고, 0에 가까우면 느리게 일어난다. 다음의 표는 이와 같은 과정을 보여준다.
  </p>
  <p>
  과거의 관측값 방향</br>
  → → → → → → → 
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>\( \alpha \)</b></th><th style="text-align: center"><b>\( (1-\alpha) \)</b></th><th style="text-align: center"><b>\( (1-\alpha)^{2} \)</b></th><th style="text-align: center"><b>\( (1-\alpha)^{3} \)</b></th><th style="text-align: center"><b>\( (1-\alpha)^{4} \)</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center">0.9</td><td style="text-align: center">0.1</td><td style="text-align: center">0.01</td><td style="text-align: center">0.001</td><td style="text-align: center">0.0001</td></tr>
        <tr><td style="text-align: center">0.5</td><td style="text-align: center">0.5</td><td style="text-align: center">0.25</td><td style="text-align: center">0.125</td><td style="text-align: center">0.0625</td></tr>
        <tr><td style="text-align: center">0.1</td><td style="text-align: center">0.9</td><td style="text-align: center">0.81</td><td style="text-align: center">0.729</td><td style="text-align: center">0.6561</td></tr>
      </tbody>
    </table>
  </div>
  <p>
가장 작은 MSE를 얻을 수 있는 \( \alpha \) 값이 가장 좋은 값이다.  
  </p>
</section>
<section>
  <p>
    <label for="mn-h09" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h09" class="margin-toggle">
    <span class="marginnote">
예제
    </span>
지금까지의 배운 내용을 가지고 예제 하나를 다뤄보자. 다음과 같이 시간에 따라 수집한 12개의 관측값이 있는 상황을 생각해보자.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>시점</b></th><th style="text-align: center"><b>\( y_{t} \)</b></th><th style="text-align: center"><b>\( S(\alpha=0.1) \)</b></th><th style="text-align: center"><b>오차</b></th><th style="text-align: center"><b>제곱 오차</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">71</td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">70</td><td style="text-align: center">71 </td><td style="text-align: center">-1.00</td><td style="text-align: center">1.00</td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">69</td><td style="text-align: center">70.9 </td><td style="text-align: center">-1.90</td><td style="text-align: center">3.61</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">68</td><td style="text-align: center">70.71 </td><td style="text-align: center">-2.71</td><td style="text-align: center">7.34</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">64</td><td style="text-align: center">70.44 </td><td style="text-align: center">-6.44</td><td style="text-align: center">41.47</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">65</td><td style="text-align: center">69.80 </td><td style="text-align: center">-4.80</td><td style="text-align: center">23.04</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">72</td><td style="text-align: center">69.32 </td><td style="text-align: center">2.68</td><td style="text-align: center">7.18</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">78</td><td style="text-align: center">69.58 </td><td style="text-align: center">8.42</td><td style="text-align: center">70.90</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">75</td><td style="text-align: center">70.43 </td><td style="text-align: center">4.57</td><td style="text-align: center">20.88</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">75</td><td style="text-align: center">70.88 </td><td style="text-align: center">4.12</td><td style="text-align: center">16.97</td></tr>
<tr><td style="text-align: center">11</td><td style="text-align: center">75</td><td style="text-align: center">71.29 </td><td style="text-align: center">3.71</td><td style="text-align: center">13.76</td></tr>
<tr><td style="text-align: center">12</td><td style="text-align: center">70</td><td style="text-align: center">71.67 </td><td style="text-align: center">-1.67</td><td style="text-align: center">2.79</td></tr>
      </tbody>
    </table>
  </div>
  <p>
제곱 오차의 합(SSE)은 208.94이고, 제곱 오차의 평균(MSE)은 SSE / 11 = 19.0 이다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h10" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h10" class="margin-toggle">
    <span class="marginnote">
다른 \( \alpha \) 값에 대해 계산하기
    </span>
\( \alpha=0.5 \) 인 경우에 MSE를 계산하면 16.29를 얻을 수 있다. 더 좋은 값을 얻을 수 있을까? 시행착오(trial-and-error) 접근법을 적용해볼 수 있다. \( \alpha \)를 0.1부터 0.9까지 탐색하고 그 중에서 가장 좋은 \( \alpha \)를 선택한 다음, \( \alpha-\Delta \)와 \( \alpha+\Delta \) 범위에서 작업을 반복한다. 한 번 더 반복하면, 소수점 3째 자리 정확도를 가지는 \( \alpha \)를 찾을 수 있다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h11" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h11" class="margin-toggle">
    <span class="marginnote">
비선형 최적화를 사용할 수 있다
    </span>
하지만 마르쿼트(Marquardt) 방법 같은 더 좋은 탐색법이 있다. 이 방법은 실제 값과 추정 값의 차이(residual) 제곱 합을 최소화하는 비선형 최적화 기법이다. 일반적으로 보통 좋은 통계 프로그램들은 MSE를 최소화하는 \( \alpha\)를 찾아준다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h12" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h12" class="margin-toggle">
    <span class="marginnote">
2개의 \( \alpha \) 에 대해 평활화한 데이터를 보여주는 그래프
    </span>
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries2.gif" alt="Exponential Smoothing: Original and Smoothed Values">
  </figure>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-03">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03-02">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc431.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-02"><h3 class="contrast">6.4.2. 이동 평균과 평활법이란?</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
    데이터 평활은 무작위적인 변화를 줄이고 추세와 주기적인 요소를 보여준다
    </span>
시간에 따라 수집한 데이터에는 무작위적인 변화량이 있다. 무작위적인 변화로 생기는 효과를 줄이기 위한 방법들이 있다. 산업에서 흔히 사용하는 기법은 "평활"이다. 이 방법을 제대로 사용하면 추세, 계절성, 주기성과 관련된 구성 요소를 더욱 분명하게 확인할 수 있다.
  </p>
  <p>
두 가지 평활법이 있다.
    <ul>
      <li>평균법</li>
      <li>지수 평활법</li>
    </ul>
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
    평균을 계산하는 것은 가장 단순한 평활법이다
    </span>
먼저, 모든 과거 데이터의 단순 평균을 계산하는 방법 같은 몇 가지 평균법을 살펴보자.
  </p>
  <p>
어떤 창고를 운영하는 사람이 공급자가 얼마나 많이 배달하는지 1000 달러 단위로 알고 싶어하는 경우를 생각해보자. 운영자는  무작위로 12명을 선택하여 다음과 같은 결과를 얻었다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>공급자</b></th><th style="text-align: center"><b>공급량</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center">1</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">2</td><td style="text-align: center">8</td></tr>
        <tr><td style="text-align: center">3</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">4</td><td style="text-align: center">12</td></tr>
        <tr><td style="text-align: center">5</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">6</td><td style="text-align: center">12</td></tr>
        <tr><td style="text-align: center">7</td><td style="text-align: center">11</td></tr>
        <tr><td style="text-align: center">8</td><td style="text-align: center">7</td></tr>
        <tr><td style="text-align: center">9</td><td style="text-align: center">13</td></tr>
        <tr><td style="text-align: center">10</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">11</td><td style="text-align: center">11</td></tr>
        <tr><td style="text-align: center">12</td><td style="text-align: center">10</td></tr>
      </tbody>
    </table>
  </div>
  <p>
위에서 공급량의 평균값은 10이다. 운영자는 이 값을 표본을 대표하는 공급자의 비용으로 사용하기로 결정했다.    
  </p>
  <p>
과연 잘 추정한 것일까?  
  </p>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
    위의 예제에서 MSE 결과
    </span>
    결과는 다음과 같다.
  </p>
  <p>
  오차와 제곱 오차의 경우<br/>
  추정치 = 10
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>공급자</b></th><th style="text-align: center"><b>$</b></th><th style="text-align: center"><b>오차</b></th><th style="text-align: center"><b>제곱오차</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center">1</td><td style="text-align: center">9</td><td style="text-align: center">-1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">2</td><td style="text-align: center">8</td><td style="text-align: center">-2</td><td style="text-align: center">4</td></tr>
        <tr><td style="text-align: center">3</td><td style="text-align: center">9</td><td style="text-align: center">-1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">4</td><td style="text-align: center">12</td><td style="text-align: center">2</td><td style="text-align: center">4</td></tr>
        <tr><td style="text-align: center">5</td><td style="text-align: center">9</td><td style="text-align: center">-1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">6</td><td style="text-align: center">12</td><td style="text-align: center">2</td><td style="text-align: center">4</td></tr>
        <tr><td style="text-align: center">7</td><td style="text-align: center">11</td><td style="text-align: center">1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">8</td><td style="text-align: center">7</td><td style="text-align: center">-3</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">9</td><td style="text-align: center">13</td><td style="text-align: center">3</td><td style="text-align: center">9</td></tr>
        <tr><td style="text-align: center">10</td><td style="text-align: center">9</td><td style="text-align: center">-1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">11</td><td style="text-align: center">11</td><td style="text-align: center">1</td><td style="text-align: center">1</td></tr>
        <tr><td style="text-align: center">12</td><td style="text-align: center">10</td><td style="text-align: center">0</td><td style="text-align: center">0</td></tr>
      </tbody>
    </table>
  </div>
  <p>
  SSE = 36 그리고 MSE = 36/12 = 3
  </p>
</section>
<section>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h04" class="margin-toggle">
    <span class="marginnote">
    다른 추정값을 사용한 MSE 결과표
    </span>
각 공급자에 대한 소비량 추정치가 얼마나 좋은가? 10을 7, 9, 12와 비교해보자.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>지표</b></th><th style="text-align: center"><b>7</b></th><th style="text-align: center"><b>9</b></th><th style="text-align: center"><b>10</b></th><th style="text-align: center"><b>12</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center"><b>SSE</b></td><td style="text-align: center">144</td><td style="text-align: center">48</td><td style="text-align: center">36</td><td style="text-align: center">84</td></tr>
        <tr><td style="text-align: center"><b>MSE</b></td><td style="text-align: center">12</td><td style="text-align: center">4</td><td style="text-align: center">3</td><td style="text-align: center">7</td></tr>
      </tbody>
    </table>
  </div>
  <p>
가장 작은 MSE를 보이는 추정치가 가장 좋은 것이다. 위의 표에서 평균으로 구한 MSE가 가장 작다는 것을 수학적으로 알 수 있다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
표본 데이터의 평균에 대한 제곱 오차를 보여주는 표
    </span>
평균이 시간에 따른 순이익을 얼마나 잘 예측하는지 살펴보자.   
  </p>
  <p>
다음은 1985년부터 1994년까지 어떤 컴퓨터 제조사의 세금 공제전 수입을 나타내는 표이다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
          <tr><th style="text-align: center"><b>연도</b></th><th style="text-align: center">$ (백만)</th><th style="text-align: center"><b>평균</b></th><th style="text-align: center"><b>오차</b></th><th style="text-align: center"><b>제곱 오차</b></th></tr>
      </thead>
      <tbody>
        <tr><td style="text-align: center">1985</td><td style="text-align: center">46.163</td><td style="text-align: center">48.676 </td><td style="text-align: center">-2.513</td><td style="text-align: center">6.313</td></tr>
        <tr><td style="text-align: center">1986</td><td style="text-align: center">46.998</td><td style="text-align: center">48.676 </td><td style="text-align: center">-1.678</td><td style="text-align: center">2.814</td></tr>
        <tr><td style="text-align: center">1987</td><td style="text-align: center">47.816</td><td style="text-align: center">48.676 </td><td style="text-align: center">-0.860</td><td style="text-align: center">0.739</td></tr>
        <tr><td style="text-align: center">1988</td><td style="text-align: center">48.311</td><td style="text-align: center">48.676 </td><td style="text-align: center">-0.365</td><td style="text-align: center">0.133</td></tr>
        <tr><td style="text-align: center">1989</td><td style="text-align: center">48.758</td><td style="text-align: center">48.676 </td><td style="text-align: center">0.082 </td><td style="text-align: center">0.007</td></tr>
        <tr><td style="text-align: center">1990</td><td style="text-align: center">49.164</td><td style="text-align: center">48.676 </td><td style="text-align: center">0.488 </td><td style="text-align: center">0.239</td></tr>
        <tr><td style="text-align: center">1991</td><td style="text-align: center">49.548</td><td style="text-align: center">48.676 </td><td style="text-align: center">0.872 </td><td style="text-align: center">0.761</td></tr>
        <tr><td style="text-align: center">1992</td><td style="text-align: center">48.915</td><td style="text-align: center">48.676 </td><td style="text-align: center">0.239 </td><td style="text-align: center">0.057</td></tr>
        <tr><td style="text-align: center">1993</td><td style="text-align: center">50.315</td><td style="text-align: center">48.676 </td><td style="text-align: center">1.639 </td><td style="text-align: center">2.688</td></tr>
        <tr><td style="text-align: center">1994</td><td style="text-align: center">50.768</td><td style="text-align: center">48.676 </td><td style="text-align: center">2.092 </td><td style="text-align: center">4.378</td></tr>
      </tbody>
    </table>
  </div>
  <p>
MSE = 1.8129
  </p>
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h05" class="margin-toggle">
    <span class="marginnote">
추세가 있을 때 평균은 좋은 지표가 아니다
    </span>
추세가 있을 것 같을 때, 수입을 예측할 때 평균을 사용할 수 있을까? 아래의 그래프에서 보면, 사용하면 안 된다는 것을 알 수 있다.
  </p>
  <figure>
    <img src="http://www.itl.nist.gov/div898/handbook/pmc/section4/gifs/tseries1.gif">
    <label for="sn-fig01" class="margin-toggle sidenote-number">⊕ </label>
    <input type="checkbox" id="sn-fig01" class="margin-toggle" />
    <span class="sidenote">가로축은 연도, 세로축은 수입</span>
  </figure>
</section>
<section>
  <p>
    <label for="mn-h06" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h06" class="margin-toggle">
    <span class="marginnote">
평균은 모든 과거 관측값을 동일한 가중치로 다룬다
    </span>
요약하면, 
    <ol>
      <li>1. 단순 평균이나 모든 과거 관측값의 평균은 추세가 없을 때만 쓸모 있다. 추세가 있으면, 추세를 고려하는 다른 측정량을 사용하자.</li>
      <li>2. 평균은 모든 과거 관측값을 동일하게 다룬다. 예를 들면, 3, 4, 5의 평균값은 4이다. 물론, 우리는 모든 값을 더해서 값의 갯수로 나눠서 평균을 구한다는 것을 알고 있다. 아래와 같이 각 값을 값의 갯수로 나눈 값을 더해서 평균을 구할 수도 있다.
  $$ 3/3 + 4/3 + 5/3 = 1 + 1.3333 + 1.6667 = 4. $$
곱하는 수 1/3을 가중치라고 한다. 일반적으로
  $$ \overline{x} = \frac{1}{n} \sum_{i=1}^{n} x_{i} = \left( \frac{1}{n} \right) x_{1} + \left( \frac{1}{n} \right) x_{2} + \cdots + \left( \frac{1}{n} \right) x_{n} $$
1/n 은 가중치이고 모두 더하면 1이다.
      </li>
    </ol>
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-01">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-02-01">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc42.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-02-02"><h3 class="contrast">6.4.2.2. 중앙 이동 평균</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
이동 평균을 계산할 때, 평균을 중간 시기에 놓는 것이 직관적이다
    </span>
<a href="/articles/2016/11/19/ESH-06-04-02-01">이전 예제</a>에서 처음 3개 시기의 평균을 계산하여, 3번째 숫자 다음에 계산한 값을 두었다. 평균값을 계산했던 구간의 중앙에 놓을 수도 있었다. 즉, 2번째 숫자 다음에 놓을 수도 있었다는 말이다. 이러한 방법은 홀수개의 숫자가 있을 때는 사용해도 괜찮지만, 짝수개의 숫자가 있을 때는 사용하기 곤란하다. 그렇다면 \( M = 4 \)일 때, 첫 번째 이동 평균값을 어디에 두어야 할까?
  </p>
  <p>
엄밀하게 따지면, 이동 평균은 \( t = 2.5, 3.5, \cdots \) 같은 곳에 놓일 것이다.
  </p>
  <p>
  이런 경우를 피하기 위해, \( M = 2 \)으로 이동 평균을 평활하자. <b>평활한 값을 평활하자는 이야기이다!</b>
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
짝수개의 숫자의 평균을 구한다면 평활한 값을 다시 평활해야 한다
    </span>
다음의 표는 \( M = 4 \)일 때, 결과를 나타낸다.
  </p>
  <p>
  중간 과정
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>시점</b></th><th style="text-align: center"><b>값</b></th><th style="text-align: center"><b>이동 평균</b></th><th style="text-align: center"><b>중앙</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">9</td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">1.5</td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">8</td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">2.5</td><td style="text-align: center"></td><td style="text-align: center">9.5 </td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">9</td><td style="text-align: center"></td><td style="text-align: center">9.5</td></tr>
<tr><td style="text-align: center">3.5</td><td style="text-align: center"></td><td style="text-align: center">9.5 </td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">12</td><td style="text-align: center"></td><td style="text-align: center">10.0</td></tr>
<tr><td style="text-align: center">4.5</td><td style="text-align: center"></td><td style="text-align: center">10.5 </td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">9</td><td style="text-align: center"></td><td style="text-align: center">10.750</td></tr>
<tr><td style="text-align: center">5.5</td><td style="text-align: center"></td><td style="text-align: center">11.0 </td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">12</td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">6.5</td><td style="text-align: center"></td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">11</td><td style="text-align: center"></td><td style="text-align: center"></td></tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
결과 표
    </span>
최종 결과 표이다.
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>시점</b></th><th style="text-align: center"><b>값</b></th><th style="text-align: center"><b>중앙 이동 평균</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">1 </td><td style="text-align: center">9</td><td style="text-align: center"> </td></tr>
<tr><td style="text-align: center">2 </td><td style="text-align: center">8</td><td style="text-align: center"> </td></tr>
<tr><td style="text-align: center">3 </td><td style="text-align: center">9</td><td style="text-align: center">9.5</td></tr>
<tr><td style="text-align: center">4 </td><td style="text-align: center">12</td><td style="text-align: center">10.0</td></tr>
<tr><td style="text-align: center">5 </td><td style="text-align: center">9</td><td style="text-align: center">10.750</td></tr>
<tr><td style="text-align: center">6 </td><td style="text-align: center">12</td><td style="text-align: center"> </td></tr>
<tr><td style="text-align: center">7 </td><td style="text-align: center">11</td><td style="text-align: center"> </td></tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <p>
    <label for="mn-h04" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
예측할 때 이동 평균으로 의미있는 추세를 다룰 수 없다
    </span>
안타깝게도 전체 데이터의 평균이나 가장 최근 \( M \)개 값의 이동 평균 둘 다, 의미있는 추세가 있을 때 다음 시기를 제대로 예측하기 힘들다.
  </p>  
</section>
<section>
  <p>
    <label for="mn-h05" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
선형 추세에 대한 이중 이동 평균
    </span>
이동 평균을 변형시켜 추세를 좀 더 잘 다루는 방법이 있다. 선형 추세에 대한 이중 이동 평균이라고 하는데, 같은 \( M \) 값으로 원래 이동 평균의 이동 평균을 구하고(두 번째 이동 평균), 구한 두 종류의 이동 평균 값을 가지고 기울기와 y절편을 구한다. 그 다음 한 개 이상의 시기를 예측한다.
  </p>  
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-02-01">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-03">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc422.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-02-01"><h3 class="contrast">6.4.2.1. 단일 이동 평균</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
    이동 평균은 평활하는 과정이다
    </span>
과거 데이터 중에서 전부가 아닌 일부의 평균을 다음과 같이 계산하여 과거 데이터를 요약할 수도 있다.
    <blockquote>
      <p>
      무작위로 뽑은 <a href="/articles/2016/11/19/ESH-06-04-02">12명의 공급자 예제</a>에서 사용한 데이터를 다시 떠올려보자. 다음과 같은 공급량이 있었다. \( 9, 8, 9, 12, 9, 12, 11, 7, 13, 9, 11, 10 \). 크기가 3인 집합 \( M \)이 있다고 하자. 이 때 처음부터 3번째 값까지의 평균은 \( (9 + 8 + 9) / 3 = 8.667 \)이다.
      </p>
    </blockquote>
  </p>
  <p>
이것을 "평활"<label for="sn-smoothing" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-smoothing" class="margin-toggle"/><span class="sidenote">smoothing</span>이라고 한다. 평활은 한 구간에서 시작해서 첫 번째 값을 제외한 그 다음 3개의 값의 평균을 계산하는 방식으로 진행한다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
    이동 평균 예제
    </span>
다음의 표는 이동 평균이라고 불리는 평활 과정을 나타낸다. 이동 평균은 일반적으로 다음과 같이 쓸 수 있다.
$$ M_t = \frac{ X_{t} + X_{t-1} + \cdots + X_{t-N+1} }{N} $$ 
  </p>
  <p>
이동 평균 결과
  </p>
  <div class="table-wrapper">
    <table class="booktabs">
      <thead>
        <tr><th style="text-align: center"><b>공급자</b></th><th style="text-align: center"><b>$</b></th><th style="text-align: center"><b>이동 평균</b></th><th style="text-align: center"><b>오차</b></th><th style="text-align: center"><b>제곱 오차</b></th></tr>
      </thead>
      <tbody>
<tr><td style="text-align: center">1</td><td style="text-align: center">9</td><td style="text-align: center"> </td><td style="text-align: center"> </td><td style="text-align: center"> </td></tr>
<tr><td style="text-align: center">2</td><td style="text-align: center">8</td><td style="text-align: center"> </td><td style="text-align: center"> </td><td style="text-align: center"> </td></tr>
<tr><td style="text-align: center">3</td><td style="text-align: center">9</td><td style="text-align: center">8.667</td><td style="text-align: center">0.333</td><td style="text-align: center">0.111</td></tr>
<tr><td style="text-align: center">4</td><td style="text-align: center">12</td><td style="text-align: center">9.667</td><td style="text-align: center">2.333</td><td style="text-align: center">5.444</td></tr>
<tr><td style="text-align: center">5</td><td style="text-align: center">9</td><td style="text-align: center">10.000</td><td style="text-align: center">-1.000</td><td style="text-align: center">1.000</td></tr>
<tr><td style="text-align: center">6</td><td style="text-align: center">12</td><td style="text-align: center">11.000</td><td style="text-align: center">1.000</td><td style="text-align: center">1.000</td></tr>
<tr><td style="text-align: center">7</td><td style="text-align: center">11</td><td style="text-align: center">10.667</td><td style="text-align: center">0.333</td><td style="text-align: center">0.111</td></tr>
<tr><td style="text-align: center">8</td><td style="text-align: center">7</td><td style="text-align: center">10.000</td><td style="text-align: center">-3.000</td><td style="text-align: center">9.000</td></tr>
<tr><td style="text-align: center">9</td><td style="text-align: center">13</td><td style="text-align: center">10.333</td><td style="text-align: center">2.667</td><td style="text-align: center">7.111</td></tr>
<tr><td style="text-align: center">10</td><td style="text-align: center">9</td><td style="text-align: center">9.667</td><td style="text-align: center">-0.667</td><td style="text-align: center">0.444</td></tr>
<tr><td style="text-align: center">11</td><td style="text-align: center">11</td><td style="text-align: center">11.000</td><td style="text-align: center">0</td><td style="text-align: center">0</td></tr>
<tr><td style="text-align: center">12</td><td style="text-align: center">10</td><td style="text-align: center">10.000</td><td style="text-align: center">0</td><td style="text-align: center">0</td></tr>
      </tbody>
    </table>
  </div>
  <p>
이전의 보통 평균에서 MSE는 3이었지만 이 경우는 MSE = 2.42 이다.  
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04-02">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-02-02">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc421.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/19/ESH-06-04-01"><h3 class="contrast">6.4.1. 정의, 응용, 기법</h3></a>
          <br><span class="smaller">November 19, 2016</span>  <br/>
          <div><section>
  <p>
    <label for="mn-h01" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h01" class="margin-toggle">
    <span class="marginnote">
    정의
    </span>
    <b>시계열의 정의:</b> 시간 순서에 따라 정렬된 변수값의 수열. 이 때, 나눈 시간 간격은 정확하게 같다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h02" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h02" class="margin-toggle">
    <span class="marginnote">
    산업 데이터에서 시계열을 종종 접한다
    </span>
    <b>응용:</b> 시계열 모델은 두 경우에 사용한다.
    <ul>
      <li>관측 데이터를 주는 원인과 구조를 이해하기 위해.</li>
      <li>모델을 맞추고, 예측이나 되먹임/앞먹임<label for="sn-feedback-feedforward" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-feedback-feedforward" class="margin-toggle"/><span class="sidenote">Feedback/Feedforward</span> 제어를 모니터링 하기 위해.</li>
    </ul>
  </p>
  <p>
    시계열 분석 응용 예시
    <ul>
      <li>경제 예측</li>
      <li>판매 예측</li>
      <li>예산 분석</li>
      <li>주식 시장 분석</li>
      <li>수익 추정</li>
      <li>공정과 품질 관리</li>
      <li>재고 상황 연구</li>
      <li>업무량 추정</li>
      <li>공익사업 연구</li>
      <li>인구 조사 분석</li>
    </ul>
  </p>
  <p>
    이 외에도 많다.
  </p>
</section>
<section>
  <p>
    <label for="mn-h03" class="margin-toggle">⊕ </label>
    <input type="checkbox" id="mn-h03" class="margin-toggle">
    <span class="marginnote">
    시계열을 모델링하고 예측하는 많은 방법들이 있다
    </span>
    <b>기법:</b> 시계열 모델을 맞추는 것은 힘들지만 중요하면서 도전적인 일이라고 할 수 있다. 다음에 소개할 기법을 포함하여 모델을 맞추는 다양한 방법이 있다.
    <ul>
      <li>박스-젠킨스 ARIMA 모델</li>
      <li>박스-젠킨스 다변량 모델</li>
      <li>홀트-윈터스<label for="sn-Holt-Winters" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-Holt-Winters" class="margin-toggle"/><span class="sidenote">Holt-Winters</span> (단일, 이중, 삼중) 지수 평활법<label for="sn-smoothing" class="margin-toggle sidenote-number"></label><input type="checkbox" id="sn-smoothing" class="margin-toggle"/><span class="sidenote">smoothing</span></li>
    </ul>
  </p>
  <p>
    이 글에서는 적절한 기법을 선택하는 것까지 다루지는 않는다. 다음과 같은 기본적인 평활법부터 본격적인 설명을 시작하겠다.
    <ul>
      <li>평균법</li>
      <li>지수 평활법</li>
    </ul>
  </p>
  <p>
이 절의 뒷 부분에서 박스-젠킨스 모델링 방법과 다변량 시계열을 다룰 것이다.
  </p>
</section>
<section>
  <ul class="pager">
    <li class="previous"><a href="/articles/2016/11/19/ESH-06-04">Previous</a></li>
    <li class="next"><a href="/articles/2016/11/19/ESH-06-04-02">Next</a></li>      
  </ul>
  <p>
    <a href="http://www.itl.nist.gov/div898/handbook/pmc/section4/pmc41.htm">원문 보기</a>
  </p>
</section>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/17/Edward-Tufte"><h3 class="contrast">에드워드 터프티 Edward Tufte</h3></a>
          <br><span class="smaller">November 17, 2016</span>  <br/>
          <div><p><img src="http://www.edwardtufte.com/bboard/images/0003mW-10280/download.jpg" alt="Edward Tufte" /></p>

</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/2016/11/13/Tufte-CSS"><h3 class="contrast">Tufte CSS</h3></a>
          <br><span class="smaller">November 13, 2016</span>  <br/>
          <div>      <section>
        <p>Tufte CSS provides tools to style web articles using the ideas demonstrated by Edward Tufte’s books and handouts. Tufte’s style is known for its simplicity, extensive use of sidenotes, tight integration of graphics with text, and carefully chosen typography.</p>
        <p>Tufte CSS was created by <a href="http://www.daveliepmann.com">Dave Liepmann</a> and is now an Edward Tufte project. The original idea was cribbed from <a href="https://tufte-latex.github.io/tufte-latex/">Tufte-<span class="latex">L<span class="latex-sup">a</span>T<span class="latex-sub">e</span>X</span></a> and <a href="http://rmarkdown.rstudio.com/tufte_handout_format.html">R Markdown’s Tufte Handout format</a>. We give hearty thanks to all the people who have contributed to those projects.</p>
        <p>If you see anything that Tufte CSS could improve, we welcome your contribution in the form of an issue or pull request on the GitHub project: <a href="https://github.com/edwardtufte/tufte-css">tufte-css</a>. Please note the <a href="https://github.com/edwardtufte/tufte-css#contributing">contribution guidelines</a>.</p>
        <p>Finally, a reminder about the goal of this project. The web is not print. Webpages are not books. Therefore, the goal of Tufte CSS is not to say “websites should look like this interpretation of Tufte’s books” but rather “here are some techniques Tufte developed that we’ve found useful in print; maybe you can find a way to make them useful on the web”. Tufte CSS is merely a sketch of one way to implement this particular set of ideas. It should be a starting point, not a design goal, because any project should present their information as best suits their particular circumstances.</p>
      </section>

</div> 
        </li>
    
  </ul>
    </article>
    <span class="print-footer">blog - Daniel Kim, PhD</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li><a href="mailto:daniel.youngho.kim@gmail.com"><span class="icon-mail"></span></a></li>    
    <li><a href="https://www.linkedin.com/in/danielyounghokim"><span class="icon-info"></span></a></li>    
      
  </ul>
<div class="credits">
<span>&copy; 2016 &nbsp;&nbsp;DANIEL KIM, PHD</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for  </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>

    
  </body>
</html>
